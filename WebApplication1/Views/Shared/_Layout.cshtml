<!DOCTYPE html>
<html>
<head>
    <link href="~/Content/reponsives.css" rel="stylesheet" />

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    @Styles.Render("~/Content/css")
    <link href="~/Content/test.css" rel="stylesheet" />
    <link rel="shortcut icon" href="~/Content/Admin/assets/images/logo/favicon.png">

    <link href="~/Content/reponsives.css" rel="stylesheet" />


</head>
<body>
    <header>
        <nav>
            <div class="container-custom">
                <ul class="nav-menu" style="padding: 0; background-color: #65635e">
                    <!-- Logo -->

                    <li>
                        <a href="@Url.Action("Xuhuong", "Xuhuong")" class="logo-link">
                            <img src="https://www.watchstore.vn/images/config/logo-watchstore3-9-24_1725292445.webp" alt="Logo" style="width: 155px" />
                        </a>
                    </li>

                    <!-- Static Links -->
                    <li><a href="@Url.Action("GioiThieu","Xuhuong")" class="tieude">Giới thiệu</a></li>
                    <li><a href="#" class="tieude" style="color: red" onclick="twotab('', 'xuhuong')">Xu Hướng 2024</a></li>

                    <li class="dropdown">
                        <a href="#" class="tieude dropdown-toggle">Menu </a>
                        <div class="dropdown-content">
                            <div class="row">
                                <!-- Price Range -->
                                <div class="column">
                                    <b>Hãng</b>
                                    <hr />
                                    <a href="#" onclick="sendImageName('Casio'), redirectToBanHang()">
                                        Casio
                                    </a>
                                    <a href="#" onclick="sendImageName('Citizen'), redirectToBanHang()">
                                        Citizen
                                    </a>
                                    <a href="#" onclick="sendImageName('Bentley'), redirectToBanHang()">
                                        Bentley
                                    </a>
                                    <a href="#" onclick="sendImageName('Olym Pianus'), redirectToBanHang()">
                                        Olym Pianus
                                    </a>
                                    <a href="#" onclick="sendImageName('G-Shock'), redirectToBanHang()">
                                        G-Shock
                                    </a>
                                    <a href="#" onclick="sendImageName('Orient'), redirectToBanHang()">
                                        Orient
                                    </a>
                                    <a href="#" onclick="sendImageName('Seiko'), redirectToBanHang()">
                                        Seiko
                                    </a>
                                    <a href="#" onclick="sendImageName('Tissot')"> Tissot</a>
                                </div>
                                <script>
                                    function sendImageName(imageName) {
                                        var currentPage = window.location.pathname.split('/').pop();
                                        //alert('trang đang click ' + imageName);

                                        var data = new URLSearchParams();
                                        data.append('imageName', imageName);

                                        fetch('/XuHuong/XuHuong', {
                                            method: 'POST',
                                            body: data,
                                            headers: {
                                                'Content-Type': 'application/x-www-form-urlencoded'
                                            }
                                        })
                                            .then(response => response.json())
                                            .then(result => {
                                                console.log(result.result); // Hiển thị kết quả trả về từ server

                                                // Chuyển hướng đến trang BanHang sau khi nhận được phản hồi
                                                window.location.href = '/XuHuong/BanHang?imageName=' + encodeURIComponent(result.result);
                                            })
                                            .catch(error => {
                                                console.error("Error: ", error); // Xử lý lỗi
                                            });
                                    }

                                </script>

                                <!-- Popular Brands -->
                                <div class="column">
                                    <b>Quốc Gia Sản Xuất</b>
                                    <hr />
                                    <a href="#" onclick="twotab('','Đức')">  Đức</a>

                                    <a href="#" onclick="twotab('', 'Ba Lan')">
                                        Ba Lan
                                    </a>
                                    <a href="#" onclick="twotab('', 'Hàn Quốc')">
                                        Hàn Quốc
                                    </a>
                                    <a href="#" onclick="twotab('', 'Pháp')">
                                        Pháp
                                    </a>
                                    <a href="#" onclick="twotab('', 'Nhật Bản')">
                                        Nhật Bản
                                    </a>
                                   
                                    <a href="#" onclick="twotab('', 'Hoa Kì')">
                                        Hoa Kỳ
                                    </a>
                                    <a href="#" onclick="twotab('', 'Thụy Sỹ')">
                                        Thụy Sỹ
                                    </a>
                                   
                                </div>

                                <!-- Strap Types -->
                                <div class="column">
                                    <b>Loại Dây</b>
                                    <hr />

                                    <a href="#" onclick="twotab('', 'Dây Thép')">
                                        Dây Thép
                                    </a>
                                    <a href="#" onclick="twotab('', 'Dây Kim Loại')">
                                        Dây Kim Loại
                                    </a>
                                    <a href="#" onclick="twotab('', 'Dây Nhựa')">
                                        Dây Nhựa
                                    </a>
                                    <a href="#" onclick="twotab('', 'Dây Bạc')">
                                        Dây Bạc
                                    </a>
                                    <a href="#" onclick="twotab('', 'Dây Inox')">
                                        Dây Inox
                                    </a>
                                    <a href="#" onclick="twotab('', 'Dây Da')">
                                        Dây Da
                                    </a>
                                    <a href="#" onclick="twotab('', 'Dây Dù')">
                                        Dây Dù
                                    </a>
                                </div>
                            </div>
                        </div>
                    </li>

                    <!-- Dropdown for 'Menu' -->
                    <li class="dropdown" style="align-items:center">
                        <a href="#" class="tieude dropdown-toggle">Nữ </a>
                        <div class="dropdown-content">
                            <div class="row">
                                <!-- Price Range -->
                                <div class="column">
                                    <b>Mức Giá</b>
                                    <hr />
                                    <a href="#" onclick="twotab('Nữ', 'duoi1trieu')">Dưới 1 Triệu</a>
                                    <a href="#" onclick="twotab('Nữ', '1den2trieu')">Từ 1 - 2 Triệu</a>
                                    <a href="#" onclick="twotab('Nữ', '2den4trieu')">Từ 2 - 4 Triệu</a>
                                    <a href="#" onclick="twotab('Nữ', 'tren4trieu')">Trên 4 Triệu</a>
                                </div>

                                <!-- Popular Brands -->
                                <div class="column">
                                    <b>Hãng</b>
                                    <hr />
                                    <a href="#" onclick="twotab('Nữ', 'Casio')">
                                        Casio
                                    </a>
                                    <a href="#" onclick="twotab('Nữ', 'Citizen')">
                                        Citizen
                                    </a>
                                    <a href="#" onclick="twotab('Nữ', 'Bentley')">
                                        Bentley
                                    </a>
                                    <a href="#" onclick="twotab('Nữ', 'Olym Pianus')">
                                        Olym Pianus
                                    </a>
                                    <a href="#" onclick="twotab('Nữ', 'G-Shock')">
                                        G-Shock
                                    </a>
                                    <a href="#" onclick="twotab('Nữ', 'Orient')">
                                        Orient
                                    </a>
                                    <a href="#" onclick="twotab('Nữ', 'Seiko')">
                                        Seiko
                                    </a>
                                    <a href="#" onclick="twotab('Nữ', 'Tissot')"> Tissot</a>
                                </div>


                                <!-- Strap Types -->
                                <div class="column">
                                    <b>Loại Máy</b>
                                    <hr />
                                    <a href="#" onclick="twotab('Nữ', 'Mechanical')">Mechanical</a>
                                    <a href="#" onclick="twotab('Nữ', 'Cơ')">Cơ</a>
                                    <a href="#" onclick="twotab('Nữ', 'Quartz')">Quartz</a>
                                    <a href="#" onclick="twotab('Nữ', 'Automatic')"> Automatic</a>
                                </div>
                            </div>
                        </div>
                    </li>


                    <li class="dropdown" style="align-items:center">
                        <a href="#" class="tieude dropdown-toggle">Nam</a>
                        <div class="dropdown-content">
                            <div class="row">
                                <!-- Price Range -->
                                <div class="column">
                                    <b>Mức Giá</b>
                                    <hr />
                                    <a href="#" onclick="twotab('Nam', 'duoi1trieu')">Dưới 1 Triệu</a>
                                    <a href="#" onclick="twotab('Nam', '1den2trieu')">Từ 1 - 2 Triệu</a>
                                    <a href="#" onclick="twotab('Nam', '2den4trieu')">Từ 2 - 4 Triệu</a>
                                    <a href="#" onclick="twotab('Nam', 'tren4trieu')">Trên 4 Triệu</a>
                                </div>

                                <!-- Popular Brands -->
                                <div class="column">
                                    <b>Hãng</b>
                                    <hr />
                                    <a href="#" onclick="twotab('Nam', 'Casio')">
                                        Casio
                                    </a>
                                    <a href="#" onclick="twotab('Nam', 'Citizen')">
                                        Citizen
                                    </a>
                                    <a href="#" onclick="twotab('Nam', 'Bentley')">
                                        Bentley
                                    </a>
                                    <a href="#" onclick="twotab('Nam', 'Olym Pianus')">
                                        Olym Pianus
                                    </a>
                                    <a href="#" onclick="twotab('Nam', 'G-Shock')">
                                        G-Shock
                                    </a>
                                    <a href="#" onclick="twotab('Nam', 'Orient')">
                                        Orient
                                    </a>
                                    <a href="#" onclick="twotab('Nam', 'Seiko')">
                                        Seiko
                                    </a>
                                    <a href="#" onclick="twotab('Nam', 'Tissot')"> Tissot</a>
                                </div>


                                <!-- Strap Types -->
                                <div class="column">
                                    <b>Loại Máy</b>
                                    <hr />
                                    <a href="#" onclick="twotab('Nam', 'Mechanical')">Mechanical</a>
                                    <a href="#" onclick="twotab('Nam', 'Cơ')">Cơ</a>
                                    <a href="#" onclick="twotab('Nam', 'Quartz')">Quartz</a>
                                    <a href="#" onclick="twotab('Nam', 'Automatic')"> Automatic</a>
                                </div>

                                <!-- Watch Movement Types -->



                            </div>

                        </div>
                    </li>

                    <!-- Other Menu Items -->
                    <li><a href="#" class="tieude" onclick="twotab('', 'tren4trieu')">Luxury</a></li>
                    <li><a href="#" class="tieude" onclick="twotab('', 'giare')">Giá rẻ</a></li>

                    <!-- Search Bar -->
                    @*<li class="search-container">
            <form action="@Url.Action("Find", "Xuhuong")" method="get" id="searchForm">
                <input type="text" name="searchQuery" id="search" placeholder="Tìm là thấy..." />
                <i class="fa-solid fa-magnifying-glass search-icon"
                   onclick="twotab('', document.getElementById('search').value)"></i>
            </form>
        </li>*@
                    <li class="search-container">
                        <form onsubmit="event.preventDefault(); twotab('search', document.getElementById('search').value);">
                            <input type="text" name="searchQuery" id="search" placeholder="Tìm là thấy..." />
                            <button type="button" class="search-icon"
                                    onclick="twotab('search', document.getElementById('search').value)">
                                <i class="fa-solid fa-magnifying-glass"></i>
                            </button>
                        </form>
                    </li>




                    <script>
                        function twotab(tab, tabChild) {
                            var currentPage = window.location.pathname.split('/').pop();
                            //alert('Tab đang click: ' + tab);
                            //alert('TabChild đang click: ' + tabChild);

                            // Ghép các tham số thành một đối tượng URLSearchParams
                            var data = new URLSearchParams();
                            data.append('tab', tab);
                            data.append('tabChild', tabChild);

                            // Gửi yêu cầu fetch
                            fetch('/XuHuong/XuHuong2', {
                                method: 'POST',
                                body: data, // Dữ liệu gửi đi
                                headers: {
                                    'Content-Type': 'application/x-www-form-urlencoded'
                                }
                            })
                                .then(response => response.json()) // Chuyển phản hồi thành JSON
                                .then(result => {
                                    console.log('Kết quả trả về:', result); // Hiển thị kết quả trả về từ server

                                    // Chuyển hướng tới trang BanHang
                                    window.location.href = '/XuHuong/BanHang?tab=' + encodeURIComponent(result.tab) +
                                        '&tabChild=' + encodeURIComponent(result.tabChild);
                                })
                                .catch(error => {
                                    console.error('Lỗi:', error); // Xử lý lỗi
                                });
                        }
                    </script>

                    <!-- Cart and User Account -->
                    <li class="icon-links">
                        <a href="@Url.Action("GioHang", "Xuhuong")"><i class="fa-solid fa-cart-shopping"></i></a>
                    </li>
                    <li class="dangnhap">
                        @if (Session["UserLoggedIn"] != null)
                        {
                            <span class="user-icon">👤 @Session["UserLoggedIn"]</span>

                            <!-- User Menu -->
                            <div class="logout-menu hidden">
                                <a href="@Url.Action("Logout", "Account")" class="logout-button">Logout</a>
                                <a href="@Url.Action("HistoryOrder", "Xuhuong")" class="logout-button">History</a>
                                <a href="@Url.Action("ProfileUser", "Account")" class="logout-button">Profile</a>
                            </div>
                        }
                        else
                        {
                            <a href="@Url.Action("Login", "Account")" class="login-button">Login</a>
                        }
                    </li>
                </ul>
            </div>

            <!-- JavaScript for dropdown toggle -->
            <script>

                document.querySelector('.user-icon').addEventListener('click', function () {
                    const logoutMenu = document.querySelector('.logout-menu');
                    logoutMenu.classList.toggle('hidden');
                });

                // Hide user menu when clicking outside
                document.addEventListener('click', function (event) {
                    const userIcon = document.querySelector('.user-icon');
                    const logoutMenu = document.querySelector('.logout-menu');
                    if (!userIcon.contains(event.target) && !logoutMenu.contains(event.target)) {
                        logoutMenu.classList.add('hidden');
                    }
                });

                // Submit search form on icon click
                function submitForm() {
                    document.getElementById("searchForm").submit();
                }


                //const dropdowns = document.querySelectorAll('.dropdown');
                //dropdowns.forEach(function (dropdown) {
                //    dropdown.addEventListener('click', function () {
                //        const dropdownContent = this.querySelector('.dropdown-content');
                //        dropdownContent.classList.toggle('hidden');
                //    });
                //});
            </script>
        </nav>

    </header>

    <div class="container body-content">
        @RenderBody()
        <hr />
        <footer class="footer-section">
            <div class="wrapper">
                <div class="flex-row">
                    <div class="footer-column">
                        <h4>LIÊN HỆ HỖ TRỢ</h4>
                        <ul class="no-bullets">
                            <li><a href="#">Giới thiệu về WatchStore</a></li>
                            <li><a href="#">Phản ánh - Khiếu nại</a></li>
                            <li><a href="#">Chứng nhận đại lý</a></li>
                            <li><a href="#">Tin tức công ty</a></li>
                            <li><a href="#">Top list đồng hồ</a></li>
                            <li><a href="#">Kiến thức đồng hồ</a></li>
                        </ul>
                    </div>
                    <div class="footer-column">
                        <h4>CHÍNH SÁCH CHUNG</h4>
                        <ul class="no-bullets">
                            <li><a href="#">Điều khoản thanh toán </a></li>
                            <li><a href="#">Chính sách bảo hành</a></li>
                            <li><a href="#">Chính sách bảo mật</a></li>
                            <li><a href="#">Chính sách vận chuyển </a></li>
                            <li><a href="#">Chính sách đổi trả</a></li>
                        </ul>
                    </div>
                    <div class="footer-column">
                        <h4>CỬA HÀNG HÀ NỘI & HCM</h4>
                        <ul class="no-bullets">
                            <li>
                                <a href="#">
                                    <i class="fas fa-map-marker-alt" style="color: orange; background-color: #000000"></i>
                                    97 Trần Đại Nghĩa, HBT, Hà Nội
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <i class="fas fa-map-marker-alt" style="color: orange; background-color: #000000"></i>
                                    58 Trần Đăng Ninh, Cầu Giấy, Hà Nội
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <i class="fas fa-map-marker-alt" style="color: orange; background-color: #000000"></i>
                                    90 Lê Văn Sỹ, P11, Phú Nhuận, HCM
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <i class="fas fa-map-marker-alt" style="color: orange; background-color: #000000"></i>
                                    61 Quang Trung, P10, Gò Vấp, HCM
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div class="footer-column">
                        <h4>LIÊN HỆ CHÚNG TÔI</h4>
                        <ul class="no-bullets">
                            <li><a href="#">Hotline: 035844654</a></li>
                            <li><a href="#">Hotline: 065648949</a></li>
                            <li><a href="#">Hotline: 025649846</a></li>
                            <li><a href="#">Hotline: 026261999</a></li>
                        </ul>
                        <h4>THEO DỖI CHÚNG TÔI TẠI</h4>
                        <div class="social-icons" style="background-color: #000000">
                            <a href="#"><i class="fab fa-facebook-f"></i></a>
                            <a href="#"><i class="fab fa-twitter"></i></a>
                            <a href="#"><i class="fab fa-instagram"></i></a>
                            <a href="#"><i class="fab fa-linkedin-in"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @RenderSection("scripts", required: false)
    @*<script src="~/Scripts/js.js"></script>*@
</body>
</html>

